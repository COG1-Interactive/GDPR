!function(e){"use strict";var r=location.search,t=location.protocol+"//"+location.host+location.pathname;-1!==r.indexOf("notify=1")&&window.history.replaceState({},document.title,t),e(function(){var r=JSON.parse(n("gdpr_approved_cookies"));function t(e,r,t){if(t){var n=new Date;n.setTime(n.getTime()+24*t*60*60*1e3);var d="; expires="+n.toGMTString()}else d="";document.cookie=e+"="+r+d+"; path=/"}function n(e){for(var r=e+"=",t=document.cookie.split(";"),n=0;n<t.length;n++){for(var d=t[n];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(r))return d.substring(r.length,d.length)}return null}var d=[];function a(a){setInterval(function(){d[a]?n(a)!=d[a]&&(d[a]=n(a),function(n){e.inArray(n,r.site_cookies)||t(n,"",-1)}(a)):d[a]=n(a)},100)}function o(){var r=[];e('input[type="checkbox"]:checked',".gdpr-privacy-preferences-frm").each(function(){var t=JSON.parse(e(this).val());if(e.isArray(t))t.forEach(function(e){r.push(e)});else{var n=Object.keys(t);r.hasOwnProperty(n)?r[n[0]].push(t[n[0]]):r[n[0]]=[t[n[0]]]}}),t("gdpr_approved_cookies",JSON.stringify(r)),e(".gdpr.gdpr-privacy-preferences .gdpr-wrapper, .gdpr-overlay, .gdpr.gdpr-privacy-bar").fadeOut()}["__utma","_gid"].forEach(function(e){a(e)}),e(document).on("click",".gdpr-preferences",function(){e(this).data("type");e(".gdpr-overlay").fadeIn(),e(".gdpr.gdpr-privacy-preferences .gdpr-wrapper").fadeIn()}),e(document).on("click",".gdpr.gdpr-privacy-preferences .gdpr-close",function(){e(".gdpr-overlay").fadeOut(),e(".gdpr.gdpr-privacy-preferences .gdpr-wrapper").fadeOut()}),e(document).on("click",".gdpr.gdpr-privacy-preferences .gdpr-tabs button",function(){var r="."+e(this).data("target");e(".gdpr.gdpr-privacy-preferences .gdpr-tab-content > div").removeClass("gdpr-active"),e(".gdpr.gdpr-privacy-preferences .gdpr-tab-content "+r).addClass("gdpr-active"),e(".gdpr.gdpr-privacy-preferences .gdpr-tabs").hasClass("gdpr-mobile-expanded")&&(e(".gdpr.gdpr-privacy-preferences .gdpr-mobile-menu button").removeClass("gdpr-active"),e(".gdpr.gdpr-privacy-preferences .gdpr-tabs").toggle()),e(".gdpr.gdpr-privacy-preferences .gdpr-tabs button").removeClass("gdpr-active"),e(".gdpr-subtabs li button").removeClass("gdpr-active"),e(this).hasClass("gdpr-tab-button")?(e(this).addClass("gdpr-active"),e(this).hasClass("gdpr-cookie-settings")&&e(".gdpr-subtabs").find("li button").first().addClass("gdpr-active")):(e(".gdpr-cookie-settings").addClass("gdpr-active"),e(this).addClass("gdpr-active"))}),e(document).on("click",".gdpr.gdpr-privacy-preferences .gdpr-mobile-menu button",function(r){e(this).toggleClass("gdpr-active"),e(".gdpr.gdpr-privacy-preferences .gdpr-tabs").toggle().addClass("gdpr-mobile-expanded")}),e(window).resize(function(){e(window).width()>640&&e(".gdpr.gdpr-privacy-preferences .gdpr-tabs").hasClass("gdpr-mobile-expanded")&&(e(".gdpr.gdpr-privacy-preferences .gdpr-mobile-menu button").removeClass("gdpr-active"),e(".gdpr.gdpr-privacy-preferences .gdpr-tabs").removeClass("gdpr-mobile-expanded").removeAttr("style"))}),e(document).on("submit",".gdpr-privacy-preferences-frm",function(e){e.preventDefault(),o()}),e(document).on("click",".gdpr.gdpr-privacy-bar .gdpr-agreement",function(){o()}),e(".confirm-delete-request-dialog").dialog({resizable:!1,autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{"Close my account":function(){e("form.gdpr-add-to-deletion-requests").addClass("confirmed"),e("form.gdpr-add-to-deletion-requests.confirmed").submit(),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}}),e("form.gdpr-add-to-deletion-requests").on("submit",function(r){e(this).hasClass("confirmed")||(r.preventDefault(),e(".confirm-delete-request-dialog").dialog("open"))}),e(".gdpr-general-dialog").length>0&&e(".gdpr-general-dialog").dialog({resizable:!1,height:"auto",width:400,modal:!0,buttons:{Ok:function(){e(this).dialog("close")}}}),e(".gdpr-consent-modal").length>0&&e("body").css("overflow","hidden"),e(document).on("click",".gdpr-agree",function(r){r.preventDefault();var t=e(this);e.post(GDPR.ajaxurl,{action:"agree_with_terms",nonce:e(this).data("nonce")},function(r){r.success&&t.closest(".gdpr-consent-modal").fadeOut(300,function(){e(this).remove(),0==e(".gdpr-consent-modal").length&&e("body").css("overflow","auto")})})}),e(document).on("click",".gdpr-disagree",function(r){r.preventDefault(),e.post(GDPR.ajaxurl,{action:"disagree_with_terms",nonce:e(this).data("nonce")},function(e){e.success&&location.reload()})})})}(jQuery);