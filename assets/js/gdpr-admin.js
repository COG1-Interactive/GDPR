!function(t){"use strict";t(function(){t(document).on("click",".gdpr-options .notice-dismiss",function(){t(this).parent().parent().remove()}),t(".add-tab").click(function(e){e.preventDefault();var a=t("#cookie-tabs");if(""!==a.val()){var n=a.val().toLowerCase().replace(/ /g,"-"),s=a.val(),i=wp.template("cookie-tabs");t("#tabs").append(i({key:n,name:s,option_name:GDPR.cookie_popup_content})),a.val("")}}),t(document).on("click",".add-host",function(e){e.preventDefault();var a=t(this).siblings("input");if(""!==a.val()){var n=t(this).data("tabid"),s=a.val().toLowerCase().replace(" ","-"),i=wp.template("cookie-tabs-hosts");t('.tab-hosts[data-tabid="'+n+'"]').append(i({host_key:s,tab_key:n,option_name:GDPR.cookie_popup_content})),a.val("")}}),t(document).on("click","#tabs .notice-dismiss",function(e){e.preventDefault(),t(this).closest(".postbox").remove()}),t(document).on("click",".gdpr-request-table .gdpr-review",function(e){e.preventDefault();var a=t(this).data("index");t("tr[data-index="+a+"] div").slideToggle()}),t(document).on("click",".gdpr-requests .nav-tab-wrapper a",function(e){var a=t(this).attr("href");a=a.replace("#",""),t(this).addClass("nav-tab-active"),t(this).siblings().removeClass("nav-tab-active"),t(".gdpr-requests .tab").addClass("hidden"),t(".gdpr-requests .tab[data-id="+a+"]").removeClass("hidden")});var e=window.location.hash;e?(t('.gdpr-requests .nav-tab-wrapper a[href="'+e+'"]').addClass("nav-tab-active"),t('.gdpr-requests .tab[data-id="'+e.replace("#","")+'"]').removeClass("hidden")):(t(".gdpr-requests .nav-tab-wrapper a:eq(0)").addClass("nav-tab-active"),t(".gdpr-requests .tab:eq(0)").removeClass("hidden")),t(document).on("change",".gdpr-reassign",function(){0!=t(this).val()?(t(this).closest("tr").find("td:last .button-primary").attr("disabled",!1),t(this).closest("tr").find('td:last input[name="reassign_to"]').val(t(this).val())):(t(this).closest("tr").find("td:last .button-primary").attr("disabled",!0),t(this).closest("tr").find('td:last input[name="reassign_to"]').val(""))}),t(document).on("submit",".gdpr-reassign-content",function(e){e.preventDefault();var a=t(this).find('input[name="user_email"]').val(),n=t(this).find('input[name="reassign_to"]').val(),s=t(this).find('input[name="post_type"]').val(),i=t(this).find('input[name="post_count"]').val(),o=t(this).find('input[name="gdpr_reassign_content_nonce"]').val(),d=t(this).find(".button-primary"),r=t(this).find(".spinner"),c=t(this).find("p.hidden");n&&(d.addClass("hidden"),r.addClass("is-active"),r.css("display","block"),t.post(ajaxurl,{action:"gdpr_reassign_content",user_email:a,reassign_to:n,post_type:s,post_count:i,nonce:o},function(t){r.removeClass("is-active"),r.hide(),c.removeClass("hidden"),t.success||c.text(t.data)}))}),t(document).on("submit",".gdpr-anonymize-comments",function(e){e.preventDefault();var a=t(this).find('input[name="user_email"]').val(),n=t(this).find('input[name="comment_count"]').val(),s=t(this).find('input[name="gdpr_anonymize_comments_nonce"]').val(),i=t(this).find(".button-primary"),o=t(this).find(".spinner"),d=t(this).find("p.hidden");i.addClass("hidden"),o.addClass("is-active"),o.css("display","block"),t.post(ajaxurl,{action:"gdpr_anonymize_comments",user_email:a,comment_count:n,nonce:s},function(t){o.removeClass("is-active"),o.hide(),d.removeClass("hidden"),t.success||d.text(t.data)})})})}(jQuery);